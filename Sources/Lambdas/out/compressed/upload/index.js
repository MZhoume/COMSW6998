"use strict";function handler(a,e,r){var d=new sdk.DynamoDB.DocumentClient,t=new DBManager_1.DBManager(d),i=a.tableName;if(Validator_1.validate(a.payload,"email",r)&&Validator_1.validate(a.payload,"zipcode",r))switch(a.operation){case"create":t.create(i,a.payload,r);break;case"read":t.read(i,a.payload,r);break;case"update":t.update(i,a.payload,r);break;case"delete":t.delete(i,a.payload,r);break;case"find":t.find(i,a.payload,r);break;case"getaddr":t.read("customers",a.payload,function(a,e){if(e){var d=e.Item.delivery_point_barcode;t.read("addresses",{key:{delivery_point_barcode:d}},r)}})}}var sdk=require("aws-sdk"),DBManager_1=require("./DB/DBManager"),Validator_1=require("./Validation/Validator");exports.handler=handler;